{
    "mirror_entry":{
        "recognition":"template_match",
        "action":"click",
        "params":{
            "template":"main_drive_no_text"
        },
        "next":[
            "mirror_enter",
            "mirror_entry"
        ]
    },
    "mirror_enter":{
        "recognition":"template_match",
        "action":"click",
        "params":{
            "template":"inferno",
            "target":[510, 310],
            "repeat": 2,
            "post_delay": 1
        },
        "next":[
            "mirror_enter_resume",
            "mirror_enter_last_week",
            "mirror_enter_confirm"
        ]
    },
    "mirror_enter_resume":{
        "recognition":"template_match",
        "action":"key",
        "params":{
            "template":"resume",
            "key":"enter"
        },
        "next":[
            "mirror_select_next_node",
            "mirror_choose_team",
            "mirror_choose_star",
            "mirror_select_initial_ego_gift",
            "mirror_gift_search",
            "mirror_shop_entry",
            "mirror_select_theme_pack",
            "mirror_event",
            "mirror_select_encounter_reward_card",
            "mirror_select_floor_ego_gift"
        ]
    },
    "mirror_enter_last_week":{
        "desc":"这是对若是上一周镜牢没打完，导致新的一周镜牢没法正常启动，避免对用户自身造成损失，提示手工解决",
        "recognition":"template_match",
        "action":"report_error",
        "params":{
            "template":"previous_session_has_expired",
            "error_msg":"请手动结算上周的镜牢再启动 | Please finish your Dungeon and restart"
        }
    },
    "mirror_enter_confirm":{
        "action":"key",
        "params":{
            "key":"enter"
        },
        "next":[
            "mirror_choose_team"
        ]
    },
    "mirror_choose_team":{
        "recognition":"template_match",
        "action":"choose_team",
        "params":{
            "template":"details",
            "cfg_type":"mirror"
        },
        "next":[
            "mirror_choose_star"
        ]
    },
    "mirror_choose_star":{
        "recognition":"template_match",
        "action":"mirror_choose_star",
        "params":{
            "template":"grace_of_the_immortal_star",
            "cfg_type":"mirror"
        },
        "next":[
            "mirror_select_initial_ego_gift"
        ]
    },
    "mirror_select_initial_ego_gift":{
        "recognition":"template_match",
        "action":"mirror_select_initial_ego_gift",
        "params":{
            "template":"selected_ego_gift",
            "cfg_type":"mirror",
            "post_delay": 2
        },
        "next":[
            "mirror_gift_search",
            "mirror_circle_center"
        ]
    },
    "mirror_gift_search":{
        "recognition":"template_match",
        "action":"mirror_gift_search",
        "params":{
            "template":"ego_gift_search"
        },
        "next":[
            "mirror_circle_center"
        ]
    },
    "mirror_circle_center":{
        "desc":"镜牢初始化后，到结算的中间过程汇总，由于模块不多，也没有很严格的流程，所以直接死循环处理",
        "action":"wait_connecting_disappear",
        "next":[
            "mirror_ego_gift_get",
            "mirror_select_theme_pack",
            "mirror_select_next_node",
            "mirror_ready_to_battle",
            "mirror_battle",
            "mirror_event",
            "mirror_shop_entry",
            "mirror_select_encounter_reward_card",
            "mirror_select_floor_ego_gift",
            "mirror_victory",
            "mirror_entry"
        ]
    },
    "mirror_ego_gift_get":{
        "recognition":"template_match",
        "action":"click",
        "params":{
            "template":"ego_gift_get",
            "target":[630, 530]
        },
        "next":[
            "mirror_circle_center"
        ]
    },
    "mirror_select_theme_pack":{
        "recognition":"template_match",
        "action":"mirror_select_theme_pack",
        "params":{
            "pre_delay":3,
            "template":"pack_search"
        },
        "next":[
            "mirror_circle_center"
        ]
    },
    "mirror_select_next_node":{
        "recognition":"template_match",
        "action":"mirror_select_next_node",
        "params":{
            "pre_delay":1,
            "template":"legend",
            "mask":[1180, 60, 100, 80]
        },
        "next":[
            "mirror_circle_center"
        ]
    },
    "mirror_ready_to_battle":{
        "recognition":"template_match",
        "action":"ready_to_battle",
        "params":{
            "template":"details",
            "cfg_type":"mirror"
        },
        "next":[
            "mirror_battle"
        ]
    },
    "mirror_battle":{
        "recognition":"template_match",
        "action":"battle_entry",
        "params":{
            "template":"win_rate"
        },
        "next":[
            "mirror_circle_center"
        ]
    },
    "mirror_event":{
        "recognition":"template_match",
        "action":"event_entry",
        "params":{
            "template":"event_skip"
        },
        "next":[
            "mirror_circle_center"
        ]
    },
    "mirror_shop_entry":{
        "recognition":"template_match",
        "params":{
            "template":"mirror_shop"
        },
        "next":[
            "mirror_shop_heal_sinner"
        ]
    },
    "mirror_shop_heal_sinner":{
        "action":"mirror_shop_heal_sinner",
        "params":{
            "cfg_type":"mirror"
        },
        "next":[
            "mirror_shop_fuse_ego_gifts"
        ]
    },
    "mirror_shop_fuse_ego_gifts":{
        "desc":"饰品合成，但用的是不需要的废品来合本体系的东西",
        "action":"mirror_shop_fuse_ego_gifts",
        "params":{
            "cfg_type":"mirror"
        },
        "next":[
            "mirror_shop_replace_skill_and_purchase_ego_gifts"
        ]
    },
    "mirror_shop_replace_skill_and_purchase_ego_gifts":{
        "action":"mirror_shop_replace_skill_and_purchase_ego_gifts",
        "params":{
            "cfg_type":"mirror"
        },
        "next":[
            "mirror_shop_enhance_ego_gifts"
        ]
    },
    "mirror_shop_enhance_ego_gifts":{
        "action":"mirror_shop_enhance_ego_gifts",
        "params":{
            "cfg_type":"mirror"
        },
        "next":[
            "mirror_shop_leave_confirm"
        ]
    },
    "mirror_shop_leave_confirm":{
        "action":"key",
        "params":{
            "key":"enter"
        },
        "next":[
            "mirror_circle_center"
        ]
    },
    "mirror_select_encounter_reward_card":{
        "recognition":"template_match",
        "action":"mirror_select_encounter_reward_card",
        "params":{
            "template":"select_encounter_reward_card",
            "post_delay":2
        },
        "next":[
            "mirror_circle_center"
        ]
    },
    "mirror_select_floor_ego_gift":{
        "recognition":"template_match",
        "action":"mirror_select_floor_ego_gift",
        "params":{
            "template":"acquire_ego_gift",
            "cfg_type":"mirror"
        },
        "next":[
            "mirror_circle_center"
        ]
    },
    "mirror_victory":{
        "recognition":"template_match",
        "action":"mirror_victory",
        "params":{
            "template":"victory"
        },
        "next":[
            "mirror_check"
        ]
    },
    "mirror_check":{
        "type":"check",
        "params":{
            "origin":"main_circle_center",
            "disable_node":"mirror_entry",
            "execute_count": 0
        },
        "next":[
            "main_circle_center"
        ]
    }
}